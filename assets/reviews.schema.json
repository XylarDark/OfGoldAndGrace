{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Product Reviews Schema",
  "description": "Schema for product reviews data used in JSON-LD and display",
  "type": "object",
  "required": ["aggregateRating", "reviews"],
  "properties": {
    "aggregateRating": {
      "type": "object",
      "required": ["@type", "ratingValue", "reviewCount", "bestRating", "worstRating"],
      "properties": {
        "@type": {
          "type": "string",
          "enum": ["AggregateRating"]
        },
        "ratingValue": {
          "type": "string",
          "pattern": "^[0-5](\\.\\d)?$",
          "description": "Average rating value"
        },
        "reviewCount": {
          "type": "string",
          "pattern": "^\\d+$",
          "description": "Total number of reviews"
        },
        "bestRating": {
          "type": "string",
          "enum": ["5"],
          "description": "Maximum possible rating"
        },
        "worstRating": {
          "type": "string",
          "enum": ["1"],
          "description": "Minimum possible rating"
        }
      },
      "additionalProperties": false
    },
    "reviews": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "@type", "author", "reviewRating", "reviewBody", "datePublished"],
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^review-\\d+$",
            "description": "Unique review identifier"
          },
          "@type": {
            "type": "string",
            "enum": ["Review"]
          },
          "author": {
            "type": "object",
            "required": ["@type", "name"],
            "properties": {
              "@type": {
                "type": "string",
                "enum": ["Person"]
              },
              "name": {
                "type": "string",
                "minLength": 1,
                "maxLength": 50,
                "description": "Reviewer's name"
              }
            },
            "additionalProperties": false
          },
          "reviewRating": {
            "type": "object",
            "required": ["@type", "ratingValue", "bestRating"],
            "properties": {
              "@type": {
                "type": "string",
                "enum": ["Rating"]
              },
              "ratingValue": {
                "type": "string",
                "pattern": "^[1-5]$",
                "description": "Individual review rating"
              },
              "bestRating": {
                "type": "string",
                "enum": ["5"]
              }
            },
            "additionalProperties": false
          },
          "reviewBody": {
            "type": "string",
            "minLength": 10,
            "maxLength": 500,
            "description": "Review text content"
          },
          "datePublished": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "description": "Publication date in YYYY-MM-DD format"
          },
          "verified": {
            "type": "boolean",
            "description": "Whether the review is verified (optional)"
          }
        },
        "additionalProperties": false
      },
      "minItems": 0,
      "maxItems": 100
    }
  },
  "additionalProperties": false
}
